<!DOCTYPE html>
<html>
    <head>
        <title>WebApps Lab Assignment 7</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
          integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
          integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>      
    </head>
    <body>
        <div class="container-fluid">
            <h1>Find the treasure by Rajesh Arigela</h1>
            <div style="color: rgb(255, 7, 7); background-color: rgb(243, 247, 29); font-family: 'Courier New', Courier, monospace;"><b>Click on the locations to search for treasure, beware the traps.</b></div>
            <div id="locations" style="color: blueviolet; font-family: Arial, Helvetica, sans-serif;">Number of locations checked is zero.</div>
            <div id="penalty">Penalty is zero.</div>
            <div style="color: rgb(253, 2, 236); font-family: 'Times New Roman', Times, serif;"><b>Click for help.</b></div>
            <div id="help" style="color: #07fad2;">Help report.</div>
        </div><br>
        <div class="container" >
            <div class="row">
                <div class="col-md-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="0" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(0)"  >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="1" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(1)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="2" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(2)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="3" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(3)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="4" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(4)" >
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="5" style="width:125%; height:100%; padding-bottom:10%;"  onclick="check(5)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="6" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(6)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="7" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(7)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="8" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(8)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="9" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(9)" >
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="10" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(10)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="11" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(11)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="12" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(12)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="13" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(13)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="14" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(14)">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="15" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(15)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="16" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(16)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="17" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(17)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="18" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(18)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="19" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(19)" >
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="20" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(20)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="21" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(21)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="22" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(22)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="23" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(23)" >
                </div>
                <div class="col-sm-1">
                    <img src="teasure_map.jpg" alt="Treasure Map" id="24" style="width:125%; height:100%; padding-bottom:10%;" onclick="check(24)" >
                </div>
            </div>                                                                                                                    
        </div>
        <script>
            let img_ids = ["0", "1", "2", "3", "4", "5", "6", "7", "8","9", "10", "11", "12", 
            "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24"];
            let checkCount = 0
            let penalty = 0
            let lastCheck = 0
            let treasureLocation = 5
            let trapLocation = 18
            let gameOver = false
            console.log(treasureLocation)
            console.log(trapLocation)
            function check(position) {
                if(!gameOver) {
                    let id = img_ids[position]
                    let img = document.getElementById(id)
                    checkCount++
                    penalty++
                    if(position == treasureLocation){
                        img.src = "teasure.jpg"
                        gameOver = true
                        penalty-=3
                    } else if(position == trapLocation){
                        img.src = "trap.jpg"
                        gameOver = true
                        penalty+=4
                    } else {
                        img.src = "pirate.jpg"
                    }

                    document.getElementById("locations").innerHTML = "No of locations checked are " + checkCount;
                    document.getElementById("penalty").innerHTML = "Penalty is " + penalty;
                    lastCheck = position
                }
            }
            function help() {
                let tsRow = Math.round(treasureLocation/5)
                let tsCol = treasureLocation%5
                let lstCRow = Math.round(lastCheck/5)
                let lstCCol = lastCheck%5
                let rowDif = Math.abs(lstCRow - tsRow )
                let colDif = Math.abs(lstCCol - tsCol )
                let diff =  Math.abs(rowDif - colDif )
                penalty = penalty +2

                document.getElementById("penalty").innerHTML = "Penalty is " + penalty;
                if((rowDif == 0 || colDif == 0) && diff == 1) {
                    document.getElementById("help").innerHTML = "Can smell it";
                    return "Can smell it";
                } else if (rowDif + colDif == 2) {
                    document.getElementById("help").innerHTML = "Close Matie";
                    return "Close Matie"
                } else{
                    document.getElementById("help").innerHTML = "Step Faster";
                    return "Step Faster"
                }
            }             
        </script>
    </body>
</html>